需求描述
 * 因为目前采购业务存在废码条形码再利用的情况，因此业务会在SAP修改条形码，协同侧因为项目上线时约定条形码不会修改，因此没有条码修改逻辑，本次需要调整程序，对于SAP修改条形码传输协同侧，需要自动修改协同侧的条形码与SAP一致；

系统现状
 * SAP：与刘玉光沟通了解，SAP修改完商品主数据的条形码，会同步将涉及模块的条形码同步修改成最新的条形码，修改的地方是在商品包装中改单品条码；
 * SAP修改一个商品的商品包装信息，接口自动下发时把整个商品包装信息都下发，不单独下发调整的某一个的包装信息；

功能设计原则
 * 接口逻辑调整：
  * SAP下发MD215商品包装接口时，根据SAP下发的商品编码检查是否在B2B中存在，根据【商品包装接口】中的“条形码”判断处理原则：
   * 根据MD215商品包装接口下发的商品编码到【MD106商品主数据】查找是否存在source=SAP的记录，若不存在，则接口报错，当前商品的包装信息不处理；（目前现有逻辑）
   * 根据MD215商品包装接口下发的商品编码到【MD106商品主数据】查找是否存在source=SAP的记录，若存在，则继续校验主条形码是否存在（需要调整逻辑）：
    * 若根据“条形码”校验【商品包装】表当前条形码不存在记录:
     * 先根据MD215商品包装接口下发的单品包装的条形码到【MD106商品主数据】查找是否存在相同条形码的记录，若存在则根据SAP下发的包装信息中的单品包装更新【MD106商品主数据】的“条形码”；
     * 根据SAP下发的商品包装信息新增写入商品包装信息；
    * 若根据“条形码”校验【商品包装】表当前条形码存在一条记录：
     * 若存在的是source=SAP的记录，则根据下发的商品包装，修改【MD106商品主数据】的主条形码和【商品包装】中的包装信息：
      * 先根据MD215商品包装接口下发的单品包装的条形码到【MD106商品主数据】查找是否存在对应条形码的记录，若存在则更新“条形码”字段值；
      * 再根据上面获取的id，把【商品包装】中ItemRelationPackage=上面查到id的记录删除；
      * 最后，再插入SAP下发的新的商品包装信息；
    * 若根据“条形码”校验【商品包装】表当前条形码存在2条记录：
      * 先根据MD215商品包装接口下发的单品包装的条形码到【MD106商品主数据】查找是否存在对应的条形码，若存在则根据SAP下发的单品条形码更新【MD106商品主数据】的“条形码”字段值；
      * 根据【MD106商品主数据】中根据刚才条形码修改的source=New_item的id，关联【商品包装】中ItemRelationPackage=查到id的记录，结合SAP下发的不同的包装形态更新不同包装的条形码；
      * 根据【MD106商品主数据】中根据刚才条形码修改的source=SAP的id，关联【商品包装】中ItemRelationPackage=查到id的记录，先删除，再批量写入SAP下发的记录，此时source记录SAP，此时source记录SAP；

{{{#!highlight java
ItemSapPushFacadeImpl::syncPackageInfo
}}}
{{{#!highlight java
ItemSapPushFacadeImpl::syncItemSapInfo
}}}
